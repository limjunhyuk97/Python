# Variable(변수)


## 1. 변수는 객체를 가리키는 것
  - 변수는 메모리에 만들어진 특정 자료형의 객체를 가리키는 것이다.
  - id() 내장함수를 통해서 변수가 가리키는 객체 주소값 확인 가능


## 2. 객체의 복사
  - **Mutable한 자료형**인 **list, dictionary, set** 자료형 **객체를 가리키는 변수들 간의 복사**에는 **기본적으로 얕은 복사**가 일어난다.
  - 얕은 복사는 **한 변수가 가리키는 메모리 공간의 데이터를 다른 변수가 똑같이 가리키게 되는 것 뿐**이다.

### 2.1 얕은 복사
  - 한 변수가 가리키는 메모리 공간의 데이터를 다른 변수가 똑같이 가리키게 되는 것이다.
  - list 안에 list가 있을 경우, list의 요소들을 복사하더라도, list 내부의 list가 저장된 주소 공간과 똑같은 공간을 가리키게 될 것이다.
    - **list** 뿐만 아니라, **dictionary**(key : value 쌍 중, **value에 대해서만**), **set**에 대해서도 마찬가지이다.

### 2.2 깊은 복사
  - mutable 객체 내부의 **immutable한 요소들간의 복사가 일어나야 서로 메모리 공간을 공유하지 않는 깊은 복사가 가능**하다.


## 3. slicing 사용(list)
  - list 내부 요소로 immutable한 객체들만 존재한다면 깊은 복사가 가능하다.
  - list 내부 요소로 mutable한 객체가 존재한다면 얕은 복사가 일어난다.

```python
# 깊은 복사가 일어날 것
list1 = [1, 2, 3]
list2 = list1[:]

list1[1] = 4
print(list1, list2)
print(list1 is list2)
```


## 4. copy 모듈의 사용
  - copy.copy() : 내부 요소들(immutable하든, mutable하든)만 다른 메모리에 담는 얕은 복사
  - copy.deepcopy() : 내부 요소들을 immutable한 요소 레벨에서 전부 아예 다른 메모리에 담아버리는 깊은 복사

```python
import copy

###########################################

dict1 = {1: [1, 2, 3], (1, 2): [4, 5, 6]}


dict2 = dict1
dict1[1] = 1
print(dict1, dict2)

dict2 = copy.copy(dict1)
dict1[(1, 2)][0] = (2, 3)
print(dict1, dict2)

del dict1[(1, 2)]
print(dict1, dict2)

dict2 = copy.deepcopy(dict1)
dict1[1] = 3
print(dict1, dict2)

############################################

list1 = [[1, 2],[3, 4]]

# 얕은 복사가 일어날 것
list2 = list1[:]
list1[0][1] = 1
print(list1, list2)

list2 = copy.deepcopy(list1)
list1[0][1] = [2,3]
print(list1, list2)

############################################
'''
{1: 1, (1, 2): [4, 5, 6]} {1: 1, (1, 2): [4, 5, 6]}
{1: 1, (1, 2): [(2, 3), 5, 6]} {1: 1, (1, 2): [(2, 3), 5, 6]}
{1: 1} {1: 1, (1, 2): [(2, 3), 5, 6]}
{1: 3} {1: 1}
[[1, 1], [3, 4]] [[1, 1], [3, 4]]
[[1, [2, 3]], [3, 4]] [[1, 1], [3, 4]]
'''
```


## 5. 변수의 선언
  - 쌍을 지어 동시에 값을 넣을 수 있다.
  - tuple 형식으로, list 형식으로 값을 넣을 수 있다.
  - immutable한 객체를 변수에 할당하는 경우에는 항상 동일 메모리 공간 공유 가능성을 염두해 두자.

```python
############################################
a, b = 'a', 2
print(a)
print(b)
print(a, b)

(a, b) = (5, 6)
print(a, b)

list1 = [[1,2], 5]
[a, b] = [3, 4], 6
print(a)
print(b)
print(a, b)

list1[0][0] = 'b'
print(a)
print(b)
print(a, b)

############################################
print()

a = b = [1, 2, 3]
print(a, b)
b[1] = 5
print(a, b)

############################################
print()

a = b = (2, 33)
a = (4, 5)
print(a, b)
```
